# Curios Agent v2.0

Интеллектуальная автоматизация рабочего стола с компьютерным зрением.

## Возможности

- **Несколько режимов работы**: Безопасный, Fair Play или Песочница
- **Разные AI провайдеры**: Gemini, GPT-4V, Claude, Ollama, OpenRouter
- **Система плагинов**: Загрузка пользовательских плагинов с горячей перезагрузкой
- **Поддержка нескольких мониторов**: Выбор и управление конкретным монитором
- **Распознавание текста (OCR)**: Поиск и клик по тексту на экране
- **Пользовательские макросы**: Запись, сохранение и воспроизведение действий
- **Облачная синхронизация**: Резервное копирование через GitHub Gist
- **Безопасность**: Встроенная защита от вредоносных действий
- **Приватность**: Автоматическое размытие чувствительных данных
- **Локализация**: Поддержка английского и русского языков

## Быстрый старт

### Установка

```bash
git clone https://github.com/Fisterovna2/Bridge.git
cd Bridge
pip install -r requirements.txt
```

### Получение API ключей

Вам нужен хотя бы один API ключ AI провайдера:

- **Gemini**: Получить на [Google AI Studio](https://makersuite.google.com/app/apikey) (есть бесплатный тариф)
- **OpenAI**: Получить на [OpenAI Platform](https://platform.openai.com/api-keys)
- **Claude**: Получить в [Anthropic Console](https://console.anthropic.com/)
- **OpenRouter**: Получить на [OpenRouter](https://openrouter.ai/keys)
- **Ollama**: Установить локально с [Ollama](https://ollama.ai/) (API ключ не нужен)

### Запуск

```bash
python curios_agent.py
```

## Настройка

При первом запуске перейдите в раздел **Настройки** и настройте:

1. **Режим работы**: Выберите NORMAL (безопасный), FAIR_PLAY (только VM) или CURIOS (только VM)
2. **AI провайдер**: Выберите предпочитаемый AI сервис
3. **API ключи**: Введите API ключи для выбранных провайдеров
4. **Монитор**: Выберите монитор для управления
5. **Язык**: Выберите русский или английский
6. Нажмите **Сохранить**

## Использование

### Базовая автоматизация

1. Введите инструкцию на естественном языке:
   - "Открой блокнот и напиши 'Привет мир'"
   - "Найди кнопку отправки и кликни на неё"
   - "Прокрути вниз и сделай скриншот"

2. Нажмите **Выполнить**
3. В режиме NORMAL подтверждайте каждое действие
4. Следите за выполнением в разделе **Логи**

### Использование OCR

Агент может находить и кликать по тексту на экране:

```
find_text("Войти")
click_text("Отправить")
```

Эти команды работают автоматически, когда AI обнаруживает текстовые задачи.

### Запись макросов

Макросы позволяют записывать и воспроизводить последовательности действий:

1. Начните запись макроса
2. Выполните действия вручную или через AI
3. Остановите запись
4. Сохраните макрос с именем
5. Позже загрузите и выполните сохранённый макрос

Макросы хранятся в папке `macros/` в формате JSON.

### Использование плагинов

Плагины расширяют возможности агента:

1. Поместите файлы плагинов в папку `plugins/`
2. Плагины загружаются автоматически при запуске
3. Пример плагина доступен в `plugins/examples/example_plugin.py`

Создавайте собственные плагины, расширяя класс `BasePlugin`:

```python
from plugins.base_plugin import BasePlugin

class MyPlugin(BasePlugin):
    def on_load(self):
        # Инициализация плагина
        return True
    
    def on_action(self, action, context):
        # Вызывается для каждого действия
        return None
    
    def on_unload(self):
        # Очистка плагина
        return True
```

### Облачная синхронизация

Синхронизируйте настройки между устройствами через GitHub Gist:

1. Создайте GitHub personal access token с правами `gist`
2. Добавьте токен в Настройках в поле API Keys (github)
3. Используйте функции облачной синхронизации для резервного копирования/восстановления

## Режимы работы

### Режим NORMAL
- Самый безопасный, работает везде
- Требует подтверждения для каждого действия
- Блокирует системные команды
- Лучше всего для обучения и тестирования

### Режим FAIR_PLAY
- **Требуется VM окружение**
- Человекоподобное поведение и тайминги
- Для автоматизации игр
- Всё ещё блокирует вредоносные/финансовые операции

### Режим CURIOS
- **Требуется VM окружение**
- Минимальные ограничения (песочница)
- Максимальная свобода автоматизации
- Всё ещё блокирует вредоносные/финансовые операции

## Поддержка нескольких мониторов

Агент может определять и управлять несколькими мониторами:

- Мониторы определяются автоматически при запуске
- Выберите целевой монитор в Настройках
- Создание скриншота конкретного монитора или всех мониторов
- Действия выполняются на выбранном мониторе

## AI провайдеры

### Gemini (Google)
- Быстрый и точный
- Хорош для общей автоматизации
- Доступен бесплатный тариф
- Модель: gemini-1.5-flash

### OpenAI GPT-4V
- Высокое качество понимания изображений
- Детальное планирование действий
- Требуется платный доступ к API
- Модель: gpt-4-vision-preview

### Claude (Anthropic)
- Отлично справляется со сложными задачами
- Сильная безопасность
- Требуется платный доступ к API
- Модель: claude-3-opus-20240229

### Ollama (Локальный)
- Работает полностью на вашем компьютере
- Не нужен API ключ или интернет
- Требуется установка Ollama
- Модель по умолчанию: llava

### OpenRouter
- Доступ к нескольким моделям
- Оплата за использование
- Гибкий выбор модели
- Хорош для тестирования разных моделей

## Функции безопасности

Встроенная система безопасности защищает от:

- **Вредоносных действий**: Удаление системы, завершение процессов, вредоносное ПО
- **Финансовых операций**: Банковские операции, платежи, криптовалюта
- **Системных команд**: Доступ к консоли, операции администратора (в режиме NORMAL)
- **Самозащита**: Не может изменять собственные файлы
- **Определение VM**: Проверяет требование VM для опасных режимов

Все логи автоматически очищаются от чувствительных данных вроде API ключей, паролей и личной информации.

## Структура файлов

```
Bridge/
├── curios_agent.py          # Главное приложение
├── requirements.txt         # Зависимости
├── README.md                # Документация (EN)
├── README_RU.md             # Этот файл
├── EULA.md                  # Лицензия
├── LEGAL_NOTICE.md          # Правовая информация
├── .gitignore               # Правила git
├── core/                    # Основные модули
│   ├── security.py          # Система безопасности
│   ├── driver.py            # Драйвер автоматизации
│   ├── monitors.py          # Поддержка мониторов
│   ├── ocr.py               # OCR движок
│   └── cloud_sync.py        # Облачная синхронизация
├── plugins/                 # Система плагинов
│   ├── base_plugin.py       # Базовый класс плагина
│   ├── plugin_manager.py    # Менеджер плагинов
│   └── examples/            # Примеры плагинов
├── macros/                  # Система макросов
│   └── macro_manager.py     # Менеджер макросов
├── ai_providers/            # Адаптеры AI провайдеров
│   ├── base_provider.py     # Базовый класс провайдера
│   ├── gemini_provider.py   # Google Gemini
│   ├── openai_provider.py   # OpenAI GPT-4V
│   ├── claude_provider.py   # Anthropic Claude
│   ├── ollama_provider.py   # Ollama (локальный)
│   └── openrouter_provider.py  # OpenRouter
└── locales/                 # Переводы
    ├── en.json              # Английский
    └── ru.json              # Русский
```

## Решение проблем

### "AI провайдер недоступен"
- Проверьте API ключ в Настройках
- Для Ollama убедитесь что сервис запущен: `ollama serve`
- Проверьте интернет соединение (кроме Ollama)

### "Этот режим требует VM окружение"
- Режимы FAIR_PLAY и CURIOS работают только в виртуальных машинах
- Используйте режим NORMAL на основной системе
- Установите VMware, VirtualBox или подобное ПО

### "Действие заблокировано системой защиты"
- Действие было помечено как потенциально вредоносное
- Проверьте что вы пытаетесь сделать
- Это функция безопасности, а не баг

### Мышь/клавиатура не работают
- Предоставьте права на запись экрана (macOS)
- Включите права доступности
- Проверьте не блокирует ли антивирус приложение
- Попробуйте запустить от имени администратора (Windows)

### OCR не распознаёт текст
- Убедитесь что EasyOCR установлен: `pip install easyocr`
- При первом запуске загружаются языковые модели (может занять время)
- Текст должен быть чётким и читаемым
- Попробуйте другой монитор или область скриншота

## Поддержка

- **Проблемы**: [GitHub Issues](https://github.com/Fisterovna2/Bridge/issues)
- **Обсуждения**: [GitHub Discussions](https://github.com/Fisterovna2/Bridge/discussions)

## План развития

- [x] Система плагинов
- [x] Поддержка нескольких мониторов
- [x] Распознавание текста OCR
- [x] Пользовательские макросы
- [x] Облачная синхронизация
- [x] Поддержка нескольких AI провайдеров
- [ ] Мобильное приложение (Скоро - отдельный репозиторий)
- [ ] Веб-панель управления
- [ ] Планирование автоматизации
- [ ] Библиотека шаблонов действий

## Системные требования

### Минимальные
- Python 3.8+
- 4 ГБ RAM
- 500 МБ на диске
- Интернет (кроме Ollama)

### Рекомендуемые
- Python 3.10+
- 8 ГБ RAM
- 2 ГБ на диске
- Широкополосный интернет

## История версий

### v2.0 (2026-01-05)
- Добавлена система плагинов с горячей перезагрузкой
- Добавлена поддержка нескольких мониторов
- Добавлено распознавание текста OCR
- Добавлена запись и воспроизведение макросов
- Добавлена облачная синхронизация
- Добавлена поддержка нескольких AI провайдеров (OpenAI, Claude, Ollama, OpenRouter)
- Модульная структура кода (core/, plugins/, macros/, ai_providers/)
- Улучшена система локализации
- Усилены функции безопасности
- Обновлена документация

### v1.0 (2026-01-05)
- Первый релиз
- Базовая автоматизация с Gemini
- Три режима работы
- Система безопасности
- Защита приватности
- Поддержка английского/русского

---

Разработано с заботой о безопасности и удобстве использования.
